{% extends "layout.html" %}

{% block content %}
<div class="row">
    <div class="col-lg-6 col-md-10 mx-auto">
        <h2>Filter posts by name:</h2>
        <form class="form-inline" method="post" action="{{ url_for('index.posts') }}">
            <select class="browser-default custom-select" name="users">
                <option selected>Open this select menu</option>
                {% for user in users %}
                <option value="{{user.user_id}}">{{user.name}}</option>
                {% endfor %}
            </select>
            <button type="submit" class="btn btn-default">Go</button>
        </form>
    </div>

</div>
{% for post in content %}

<div class="row posts">
    <div class="col-lg-6 col-md-10 mx-auto">
        <div class="post-preview">
            <a href="{{url_for('index.view_post', pid=post.post_id)}}">
                <h1>{{ post.title }}</h1>
            </a>

            <p>By {{ post.name }} on {{ post.created_at }} <small>Post Id is {{post.post_id}}</small></p>
            <p>{{ post.contents[:150] }} ...</p>
        </div>


    </div>
</div>
{% endfor %}
<div class="row">
    <div class="col-lg-6 col-md-10 mx-auto">

        {% if prev_url %}
        <a class="btn btn-primary" href="{{ prev_url }}">Newer posts</a>
        {% endif %}

        {% if next_url %}
        <a class="btn btn-primary" href="{{ next_url }}">Older posts</a>
        {% endif %}
    </div>


</div>
    {% endblock content %}
